function t(t,n,e,r){Object.defineProperty(t,n,{get:e,set:r,enumerable:!0,configurable:!0})}var n,e,r,i,o=globalThis,a={},s={},u=o.parcelRequire0750;null==u&&((u=function(t){if(t in a)return a[t].exports;if(t in s){var n=s[t];delete s[t];var e={id:t,exports:{}};return a[t]=e,n.call(e.exports,e,e.exports),e.exports}var r=Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,n){s[t]=n},o.parcelRequire0750=u);var l=u.register;async function c(t){return new Promise(n=>{chrome.storage.local.get([t],e=>{void 0===e[t]?n(null):n(e[t])})})}async function h(t){return new Promise(n=>{n(localStorage.getItem(t))})}async function f(t){return"dev"===m?await h(t):await c(t)}function p(t,n){"dev"===m?localStorage.setItem(t,JSON.stringify(n)):chrome.storage.local.set({[t]:JSON.stringify(n)})}function d(t){"dev"===m?localStorage.removeItem(t):chrome.storage.local.remove([t])}async function g(t){return"dev"===m?sessionStorage.getItem("key"):await chrome.storage.session.get(t)}async function y(t,n){"dev"===m?sessionStorage.setItem(t,n):chrome.storage.session.set({[t]:n})}l("bgSe7",function(n,e){t(n.exports,"Color",()=>i),t(n.exports,"darker",()=>o),t(n.exports,"brighter",()=>a),t(n.exports,"default",()=>b),t(n.exports,"hslConvert",()=>L),t(n.exports,"Rgb",()=>P),t(n.exports,"rgbConvert",()=>E),t(n.exports,"rgb",()=>k),t(n.exports,"hsl",()=>$);var r=u("hHCFN");function i(){}var o=.7,a=1.4285714285714286,s="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h=/^#([0-9a-f]{3,8})$/,f=RegExp("^rgb\\("+[s,s,s]+"\\)$"),p=RegExp("^rgb\\("+[c,c,c]+"\\)$"),d=RegExp("^rgba\\("+[s,s,s,l]+"\\)$"),g=RegExp("^rgba\\("+[c,c,c,l]+"\\)$"),y=RegExp("^hsl\\("+[l,c,c]+"\\)$"),v=RegExp("^hsla\\("+[l,c,c,l]+"\\)$"),m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _(){return this.rgb().formatHex()}function w(){return this.rgb().formatRgb()}function b(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=h.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?x(n):3===e?new P(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?new P(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?new P(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=f.exec(t))?new P(n[1],n[2],n[3],1):(n=p.exec(t))?new P(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=d.exec(t))?S(n[1],n[2],n[3],n[4]):(n=g.exec(t))?S(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=y.exec(t))?A(n[1],n[2]/100,n[3]/100,1):(n=v.exec(t))?A(n[1],n[2]/100,n[3]/100,n[4]):m.hasOwnProperty(t)?x(m[t]):"transparent"===t?new P(NaN,NaN,NaN,0):null}function x(t){return new P(t>>16&255,t>>8&255,255&t,1)}function S(t,n,e,r){return r<=0&&(t=n=e=NaN),new P(t,n,e,r)}function E(t){return(t instanceof i||(t=b(t)),t)?new P((t=t.rgb()).r,t.g,t.b,t.opacity):new P}function k(t,n,e,r){return 1==arguments.length?E(t):new P(t,n,e,null==r?1:r)}function P(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function C(){return"#"+N(this.r)+N(this.g)+N(this.b)}function M(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function N(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function A(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new D(t,n,e,r)}function L(t){if(t instanceof D)return new D(t.h,t.s,t.l,t.opacity);if(t instanceof i||(t=b(t)),!t)return new D;if(t instanceof D)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,o=Math.min(n,e,r),a=Math.max(n,e,r),s=NaN,u=a-o,l=(a+o)/2;return u?(s=n===a?(e-r)/u+(e<r)*6:e===a?(r-n)/u+2:(n-e)/u+4,u/=l<.5?a+o:2-a-o,s*=60):u=l>0&&l<1?0:s,new D(s,u,l,t.opacity)}function $(t,n,e,r){return 1==arguments.length?L(t):new D(t,n,e,null==r?1:r)}function D(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function O(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}(0,r.default)(i,b,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:_,formatHex:_,formatHsl:function(){return L(this).formatHsl()},formatRgb:w,toString:w}),(0,r.default)(P,k,(0,r.extend)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new P(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new P(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:C,formatHex:C,formatRgb:M,toString:M})),(0,r.default)(D,$,(0,r.extend)(i,{brighter:function(t){return t=null==t?a:Math.pow(a,t),new D(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?o:Math.pow(o,t),new D(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new P(O(t>=240?t-240:t+120,i,r),O(t,i,r),O(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}))}),l("hHCFN",function(n,e){function r(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function i(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}t(n.exports,"default",()=>r),t(n.exports,"extend",()=>i)});const v=function(){let t=(self.navigator??navigator).userAgent,n=null;return t.match(/Chrome/i)&&(n="chrome"),t.match(/Firefox/i)&&(n="firefox"),n}(),m=function(){if(chrome?.runtime&&chrome?.runtime?.getManifest){let t=chrome.runtime.getManifest();return t?t.version:"dev"}return"dev"}(),_=new class{constructor(t=!1){this.debug=t}async getOrCreateClientId(){let t=await f("clientId");return t||p("clientId",t=self.crypto.randomUUID()),t}async getOrCreateSessionId(){let t=await g("sessionData"),n=Date.now();return t&&"string"!=typeof t&&t.timestamp&&((n-t.timestamp)/6e4>30?t=null:(t.timestamp=n,y("sessionData",t))),t||y("sessionData",t={session_id:n.toString(),timestamp:n.toString()}),"string"!=typeof t?t.session_id:""}async fireEvent(t,n){n.session_id||(n.session_id=await this.getOrCreateSessionId()),n.engagement_time_msec||(n.engagement_time_msec=100);try{let e={client_id:await this.getOrCreateClientId(),events:[{name:t,params:n}]};"dev"===m&&(e.user_properties={user_type:{value:"dev"}});let r=await fetch(`${this.debug?"https://www.google-analytics.com/debug/mp/collect":"https://www.google-analytics.com/mp/collect"}?measurement_id=G-QTRHH3E390&api_secret=i8PJfnSUSD2-CSMGecMO7A`,{method:"POST",body:JSON.stringify(e)});if(!this.debug)return;console.log(await r.text())}catch(t){console.error("Google Analytics request failed with an exception",t)}}async firePageViewEvent(t,n,e={}){return this.fireEvent("page_view",{page_title:t,page_location:n,...e})}async fireErrorEvent(t,n={}){return this.fireEvent("extension_error",{...t,...n})}},w="chrome"===v;class b{constructor(t,n){this.rawData=t,this.onInit=n||(()=>null),t.thumbnailDataUri&&0!==t.thumbnailDataUri.length?this.onInit():this.createThumbnail()}createThumbnail(){this.rawData.dataUri&&(function(t,n=225,e=150){return new Promise(async r=>{let i=await createImageBitmap(function(t){for(var n=t.split(","),e=n[0].match(/:(.*?);/)?.[1],r=atob(n[1]),i=r.length,o=new Uint8Array(i);i--;)o[i]=r.charCodeAt(i);return new Blob([o],{type:e})}(t)),o=new OffscreenCanvas(n,e),a=o.getContext("2d");a&&(a.drawImage(i,0,0,n,e),o.convertToBlob().then(t=>{var n,e;n=t=>{r(t)},(e=new FileReader).onload=function(t){n(t.target?.result)},e.readAsDataURL(t)}))})})(this.rawData.dataUri).then(t=>{this.rawData.thumbnailDataUri=t,this.onInit()}).catch(console.error)}get id(){return this.rawData.id}get data(){return this.rawData}set data(t){this.rawData=t}get location(){return{lat:this.rawData.lat,lng:this.rawData.lng}}get dataUri(){return this.rawData.dataUri}set dataUri(t){this.rawData.dataUri=t}get thumbnailDataUri(){return this.rawData.thumbnailDataUri}get earthLink(){let t=this.rawData.zoom+1||11,n=this.rawData.lat*(Math.PI/180),e=Math.round(this.rawData.elevation||0);return"https://earth.google.com/web/@{{lat}},{{lng}},{{elevation}}a,{{range}}d,30y,270h,30t,0r/data=KAI?utm_source=referral&utm_campaign=earthview&utm_term=extension".replace("{{lat}}",String(this.rawData.lat)).replace("{{lng}}",String(this.rawData.lng)).replace("{{elevation}}",String(e)).replace("{{range}}",String(Math.round(Math.abs(Math.cos(n))/Math.pow(2,t)*255125480)))}get mapsLink(){let{zoom:t=10,lat:n,lng:e}=this.rawData;return"https://www.google.com/maps/@{{lat}},{{lng}},{{zoom}}z/data=!3m1!1e3".replace("{{lat}}",String(n)).replace("{{lng}}",String(e)).replace("{{zoom}}",String(t+1))}get locationLink(){return w?this.earthLink:this.mapsLink}get locationLinkText(){return`See ${this.region}, ${this.country} ${w?"in Google Earth":"on Google Maps"}`}get country(){return this.rawData.country||this.rawData.geocode?.country||""}get region(){return"1388"===this.rawData.id?"Uluru":this.rawData.region||this.rawData.geocode?.locality||this.rawData.geocode?.administrative_area_level_2||this.rawData.geocode?.administrative_area_level_1||""}get attribution(){let t=`\xa9${new Date().getFullYear()}`;return(this.rawData.attribution||"").replace(/Â©\s?\d{4}/,t)}}const x="history-new";async function S(){return new Promise(async t=>{let n=[],e=await f(x);if(e)try{n=JSON.parse(e.replace(/\u0000/g,"")).map(t=>new b(t))}catch(t){console.error("ERROR loading the data",t)}let r=await f("image");if(r){try{let t=JSON.parse(r);n=n.map((e,r)=>(e.data.dataUri&&(e.data.thumbnailDataUri=e.data.dataUri),e.data.dataUri=void 0,r===n.length-1&&(e.data=t,e.data.thumbnailDataUri=t.dataUri),e))}catch(t){console.error("ERROR loading the data",t)}d("image")}await f("history")&&d("history"),t(n)})}function E(t){return fetch(`https://www.gstatic.com/prettyearth/assets/data/v3/${t}.json`).then(t=>t.json())}var k={};k=JSON.parse('{"photoIds":["1003","1004","1006","1007","1008","1010","1012","1014","1017","1018","1019","1021","1022","1023","1024","1026","1027","1032","1033","1034","1035","1036","1037","1038","1039","1040","1041","1046","1047","1048","1049","1050","1052","1053","1054","1055","1056","1057","1063","1064","1065","1066","1067","1068","1069","1070","1071","1074","1075","1077","1078","1080","1081","1082","1084","1085","1086","1087","1089","1091","1092","1093","1094","1095","1096","1097","1098","1099","1101","1102","1103","1104","1105","1107","1109","1110","1114","1115","1116","1118","1119","1121","1122","1123","1125","1127","1128","1131","1132","1133","1134","1135","1138","1139","1140","1141","1143","1147","1148","1151","1152","1154","1155","1156","1157","1158","1159","1160","1161","1163","1164","1165","1166","1167","1168","1169","1170","1172","1173","1174","1176","1177","1178","1180","1181","1183","1184","1186","1190","1191","1192","1195","1196","1197","1198","1199","1206","1207","1209","1211","1212","1215","1216","1217","1221","1222","1224","1225","1226","1229","1230","1231","1233","1237","1238","1239","1240","1241","1242","1243","1245","1247","1248","1251","1253","1254","1255","1256","1257","1258","1259","1260","1265","1267","1268","1269","1270","1273","1274","1277","1280","1282","1285","1286","1287","1289","1290","1292","1293","1297","1298","1300","1301","1302","1308","1309","1312","1316","1317","1323","1324","1325","1326","1329","1332","1336","1337","1338","1341","1342","1343","1345","1348","1349","1350","1351","1352","1353","1354","1355","1356","1358","1359","1363","1364","1368","1369","1370","1371","1373","1374","1375","1377","1378","1381","1383","1385","1388","1393","1394","1396","1397","1398","1399","1400","1402","1403","1406","1407","1408","1409","1413","1414","1416","1417","1418","1419","1420","1421","1423","1427","1429","1430","1432","1434","1435","1436","1437","1438","1440","1443","1444","1446","1447","1448","1449","1450","1451","1456","1457","1463","1464","1466","1468","1470","1471","1472","1474","1475","1476","1477","1478","1484","1485","1487","1488","1490","1491","1492","1494","1495","1496","1498","1500","1501","1502","1505","1506","1508","1509","1510","1511","1512","1514","1515","1516","1517","1518","1519","1521","1523","1525","1526","1528","1529","1530","1531","1534","1537","1538","1539","1540","1541","1542","1543","1544","1545","1546","1548","1550","1551","1553","1556","1557","1558","1559","1560","1561","1563","1565","1567","1568","1569","1572","1574","1578","1579","1582","1583","1584","1585","1588","1589","1591","1594","1595","1598","1600","1606","1607","1608","1609","1610","1611","1612","1613","1614","1615","1617","1618","1620","1623","1626","1628","1629","1630","1634","1636","1637","1639","1640","1641","1643","1644","1645","1646","1648","1652","1653","1655","1657","1660","1661","1662","1663","1664","1666","1668","1669","1672","1673","1674","1675","1676","1681","1683","1684","1685","1686","1687","1688","1689","1690","1692","1694","1695","1697","1698","1699","1701","1702","1703","1704","1707","1710","1711","1712","1713","1714","1716","1718","1719","1720","1721","1722","1724","1725","1727","1728","1729","1730","1731","1732","1734","1735","1737","1738","1739","1740","1741","1742","1746","1750","1754","1756","1758","1759","1760","1761","1762","1763","1766","1767","1768","1770","1771","1772","1774","1775","1776","1777","1778","1779","1780","1782","1783","1784","1785","1786","1787","1788","1790","1792","1793","1796","1797","1799","1800","1801","1804","1805","1806","1807","1808","1809","1810","1811","1812","1816","1817","1820","1821","1822","1823","1824","1825","1826","1828","1829","1831","1832","1833","1834","1835","1836","1837","1838","1839","1840","1841","1842","1843","1844","1845","1846","1849","1852","1853","1854","1855","1857","1858","1859","1860","1861","1863","1864","1868","1870","1872","1873","1875","1883","1884","1885","1887","1888","1889","1890","1891","1893","1894","1897","1901","1902","1903","1904","1905","1907","1908","1909","1910","1911","1912","1913","1915","1919","1920","1921","1922","1923","1924","1925","1927","1934","1935","1936","1937","1938","1939","1940","1942","1943","1945","1946","1947","1948","1949","1951","1952","1954","1955","1956","1957","1959","1960","1961","1962","1964","1965","1966","1967","1968","1969","1970","1971","1972","1973","1974","1975","1976","1977","1978","1979","1980","1981","1982","1983","1984","1986","1987","1989","1990","1991","1992","1993","1994","1995","1998","1999","2000","2001","2002","2003","2007","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2021","2022","2023","2024","2025","2026","2027","2028","2029","2030","2031","2032","2033","2034","2035","2036","2037","2038","2039","2040","2041","2042","2043","2044","2045","2046","2047","2048","2049","2050","2051","2052","2054","2055","2056","2057","2058","2059","2060","2061","2062","2063","2064","2065","2066","2067","2068","2069","2070","2071","2072","2074","2075","2076","2078","2081","2082","2083","2084","2088","2090","2091","2093","2095","2096","2097","2098","2100","2102","2103","2109","2112","2113","2116","2118","2120","2121","2124","2125","2126","2131","2132","2135","2137","2138","2139","2140","2141","2142","2145","2147","2148","2149","2150","2151","2152","2154","2156","2157","2159","2160","2161","2162","2165","2166","2167","2168","2169","2170","2171","2175","2176","2177","2179","2180","2181","2182","2183","2186","2187","2188","2190","2191","2192","2194","2195","2197","2198","2199","2202","2203","2204","2205","2206","2207","2209","2211","2212","2213","2216","2218","2220","2222","2223","2224","2227","2228","2229","2230","2231","2237","2239","2240","2241","2243","2244","2246","2247","2248","2249","2251","2252","2253","2256","2258","2259","2260","2263","2264","2265","2266","2268","2269","2270","2272","2273","2274","2275","2276","2277","2278","2280","2281","2284","2287","2288","2290","2291","2292","2293","2294","2295","2296","2297","2299","2303","2304","2305","2307","2308","2311","2312","2313","2314","2315","2316","2317","2318","2319","2321","2322","2323","2324","2325","2326","2327","2329","2330","2331","2332","2333","2334","2337","2340","2341","2342","2343","2344","2345","2346","2347","2350","2357","2360","2361","2364","2367","2368","2371","2372","2374","2375","2377","2378","2379","2380","2381","2382","2383","2385","2386","2388","2389","2390","2391","2392","2393","2395","2397","2398","2399","2401","2402","2403","2405","2406","2407","2408","2409","2410","2411","2412","2413","2414","2416","2418","2419","2421","2422","2423","2426","2430","2431","2432","2433","2434","2435","2436","2437","2438","2439","2442","2443","2444","2446","2447","2448","5003","5004","5005","5007","5008","5012","5015","5016","5019","5022","5023","5027","5028","5035","5037","5038","5039","5040","5041","5043","5044","5045","5046","5047","5048","5051","5052","5053","5056","5057","5060","5062","5063","5064","5065","5066","5071","5072","5073","5076","5077","5078","5079","5080","5081","5082","5097","5103","5104","5105","5111","5121","5126","5147","5163","5164","5165","5167","5168","5172","5173","5178","5179","5181","5182","5183","5188","5189","5192","5198","5199","5206","5207","5215","5216","5217","5228","5231","5234","5237","5238","5242","5243","5244","5245","5253","5254","5255","5290","5296","5302","5304","5310","5314","5319","5325","5329","5330","5333","5334","5338","5355","5361","5365","5375","5382","5389","5396","5403","5412","5422","5423","5424","5425","5426","5438","5445","5451","5452","5454","5456","5457","5460","5461","5462","5464","5474","5479","5480","5481","5484","5485","5487","5502","5508","5511","5513","5527","5528","5529","5530","5531","5533","5536","5538","5542","5551","5553","5555","5556","5560","5562","5563","5564","5565","5569","5575","5577","5583","5584","5586","5587","5588","5589","5591","5594","5595","5596","5597","5604","5607","5609","5611","5612","5614","5616","5617","5618","5619","5620","5624","5626","5628","5629","5630","5634","5635","5636","5641","5646","5651","5653","5654","5660","5663","5666","5668","5674","5675","5676","5686","5688","5689","5692","5705","5720","5723","5724","5729","5741","5744","5749","5755","5761","5762","5763","5766","5767","5770","5773","5778","5786","5787","5790","5792","5795","5796","5797","5809","5810","5818","5822","5828","5829","5836","5855","5859","5862","5864","5870","5874","5882","5884","5890","5898","5901","5924","5933","5938","5941","5944","5945","5951","5952","5954","5955","5957","5958","5959","5960","5964","5975","5977","5978","5979","5981","5982","5984","5989","5992","5995","5999","6001","6002","6003","6004","6005","6006","6007","6008","6011","6013","6014","6015","6016","6017","6018","6019","6022","6025","6032","6041","6043","6044","6045","6046","6048","6049","6050","6051","6052","6053","6054","6055","6056","6057","6058","6059","6060","6062","6063","6065","6066","6068","6069","6070","6072","6073","6074","6078","6079","6080","6081","6082","6095","6096","6097","6099","6100","6101","6102","6103","6105","6107","6108","6109","6110","6112","6114","6116","6117","6119","6120","6121","6122","6124","6125","6134","6135","6136","6137","6138","6139","6140","6141","6143","6144","6146","6149","6150","6151","6152","6153","6155","6160","6161","6167","6170","6175","6176","6177","6178","6180","6181","6182","6183","6184","6186","6187","6189","6201","6202","6204","6205","6206","6207","6208","6209","6210","6211","6213","6215","6216","6217","6218","6222","6228","6229","6230","6231","6232","6233","6234","6235","6241","6244","6248","6254","6255","6256","6257","6258","6259","6260","6262","6263","6264","6265","6266","6267","6269","6271","6272","6275","6276","6279","6280","6281","6282","6283","6284","6285","6287","6290","6291","6292","6293","6294","6295","6296","6298","6300","6301","6302","6303","6304","6311","6313","6315","6316","6317","6318","6319","6320","6321","6324","6325","6326","6339","6340","6341","6342","6344","6345","6346","6347","6348","6349","6350","6351","6352","6355","6356","6358","6359","6360","6361","6362","6363","6364","6365","6366","6367","6368","6371","6372","6374","6375","6376","6377","6378","6379","6380","6381","6382","6383","6384","6386","6387","6388","6389","6402","6409","6410","6424","6435","6436","6441","6443","6457","6459","6460","6465","6470","6473","6488","6491","6495","6496","6498","6500","6503","6504","6510","6512","6519","6524","6525","6527","6528","6531","6543","6545","6561","6565","6566","6575","6578","6579","6587","6588","6589","6590","6600","6607","7001","7002","7003","7004","7005","7006","7008","7009","7010","7011","7012","7013","7015","7016","7017","7018","7019","7020","7021","7023"]}');var P={};P=JSON.parse('{"photoIds":["11935","11932","13942","13735","13730","13419","12078","14752","14737","14727","14719","14718","14669","14661","14647","14642","14632","14623","14613","14612","14603","14602","14599","14569","14560","14549","14542","14517","14508","14498","14489","14484","14478","14456","14434","14313","14312","14246","14111","14108","14097","14086","14068","14066","14059","14048","14046","14004","13986","13980","13925","13868","13763","13758","13678","13645","13581","13222","13208","13201","12986","12878","12861","12801","12686","12657","12623","14197","14196","14190","14188","14181","14171","14168","14145","14793","14792","14791","14790","14788","14787","14786","14784","14783","14782","14781","11566","13192","12277","12198","11573","14765","14700","14646","14523","14506","14504","14497","14451","14446","14436","14429","14362","14354","14344","14340","14339","14332","14309","14256","14254","14126","14124","14107","14105","14099","14096","14091","14090","14085","14084","14083","14074","14073","14072","14067","14060","14047","14015","14011","14007","14006","14005","13991","13984","13974","13973","13967","13933","13932","13924","13911","13907","13906","13897","13887","13886","13885","13871","13860","13859","13853","13841","13839","13830","13826","13824","13818","13788","13773","13770","13769","13765","13747","13745","13731","13687","13661","13660","13649","13646","13643","13640","13633","13631","13598","13591","13580","13547","13520","13519","13485","13467","13439","13414","13400","13394","13389","13288","13281","13280","13261","13249","13245","13238","13212","13209","13202","13200","13158","13151","13149","13004","12814","12773","12734","12724","12706","12692","12660","12658","12653","12646","12524","12523","12516","12496","12462","12444","12435","12424","12395","12390","12097","11782","11575","11601","12025","12024","12023","11862","14774","14741","14740","14739","14736","14734","14733","14732","14721","14686","14685","14680","14666","14664","14663","14653","14652","14630","14617","14611","14608","14597","14596","14592","14589","14582","14572","14561","14559","14555","14552","14491","14487","14479","14477","14438","14195","14194","14187","14186","14184","14182","14179","14178","14174","14169","14164","14162","14156","14143","14132","14129","14128","13716","13708","13707","13702","13195","12290","12261","12260","12257","11941","11939","11934","11931","11766","12026","12006","11653","11580","11567","12050","12048","12047","12039","11999","14730","14729","14708","14513","14511","14507","14505","14503","14499","14495","14455","14449","14417","14399","14396","14394","14390","14378","14373","14366","14331","14324","14322","14319","14310","14301","14297","14295","14294","14291","14289","14264","14259","14258","14244","14234","14232","14229","14228","14226","14211","14125","14123","14122","14114","14104","14102","14095","14093","14092","14079","14077","14071","14061","14058","14057","14056","14044","14043","14034","14026","14018","14012","14010","13997","13995","13985","13983","13982","13981","13978","13971","13965","13948","13947","13940","13939","13935","13931","13923","13914","13905","13896","13895","13892","13884","13879","13852","13844","13822","13821","13819","13814","13809","13799","13779","13754","13749","13746","13744","13728","13691","13670","13653","13650","13648","13642","13636","13622","13618","13615","13602","13600","13590","13582","13566","13546","13545","13543","13540","13537","13534","13532","13516","13515","13513","13508","13493","13489","13487","13472","13468","13462","13454","13426","13403","13402","13397","13383","13374","13366","13339","13332","13319","13316","13301","13289","13269","13252","13242","13239","13236","13218","13217","13207","13205","13204","13203","13183","13180","13161","13152","13150","13145","13135","13119","13117","13054","13050","13037","13025","13017","13012","13009","12995","12994","12988","12987","12968","12967","12937","12914","12907","12903","12891","12883","12882","12859","12858","12855","12854","12852","12846","12844","12843","12834","12833","12826","12816","12813","12812","12809","12807","12802","12800","12799","12761","12730","12728","12717","12693","12679","12672","12661","12659","12656","12634","12629","12626","12610","12606","12602","12597","12525","12502","12478","12455","12437","12434","12432","12425","12403","12400","12393","12382","12348","12347","12332","12321","12292","12207","12133","11688","11654","11603","11597","13705","13299","13193","12267","12156","11899","11650","11639","11626","11623","11698","11663","11658","11589","12056","12032","12031","12019","12008","14772","14768","14751","14747","14746","14744","14742","14738","14735","14726","14725","14724","14723","14722","14720","14677","14668","14667","14665","14662","14643","14641","14639","14636","14634","14631","14628","14616","14615","14601","14600","14598","14588","14587","14581","14580","14578","14577","14576","14575","14573","14564","14554","14548","14546","14543","14541","14538","14531","14492","14490","14483","14482","14480","14472","14471","14452","14443","14442","14201","14200","14198","14193","14192","14189","14180","14175","14173","14170","14166","14165","14163","14161","14158","14150","14149","14148","14144","14142","14141","14140","14134","14130","14127","12012","11946","11720","11651","11624","11610","14714","14711","14705","14703","14702","14688","14529","14525","14524","14521","14519","14518","14509","14468","14467","14466","14465","14463","14454","14428","14406","14402","14400","14398","14397","14392","14391","14386","14384","14383","14376","14374","14370","14360","14359","14348","14345","14341","14335","14334","14328","14318","14317","14315","14305","14303","14299","14290","14283","14282","14266","14260","14257","14255","14250","14249","14248","14247","14245","14242","14240","14236","14225","14218","14215","14214","14212","14112","14109","14098","14094","14089","14088","14087","14082","14081","14080","14075","14065","14055","14053","14052","14037","14036","14035","14033","14032","14031","14027","14024","14022","14021","14019","14017","14014","14002","13999","13996","13990","13977","13976","13975","13972","13962","13961","13960","13956","13954","13950","13945","13941","13936","13934","13929","13926","13921","13919","13917","13916","13913","13910","13902","13898","13891","13890","13889","13880","13873","13872","13870","13869","13865","13861","13854","13845","13842","13832","13831","13827","13823","13817","13816","13812","13811","13810","13808","13789","13786","13782","13781","13771","13767","13755","13750","13748","13743","13742","13693","13692","13676","13673","13667","13664","13663","13656","13654","13652","13647","13644","13639","13638","13634","13630","13629","13623","13619","13617","13614","13603","13601","13599","13595","13594","13592","13583","13578","13577","13572","13560","13553","13552","13549","13544","13539","13536","13531","13528","13526","13523","13517","13504","13492","13483","13481","13475","13474","13470","13466","13457","13456","13441","13440","13433","13430","13424","13420","13418","13409","13404","13401","13398","13388","13386","13361","13360","13358","13352","13350","13340","13338","13335","13331","13330","13329","13328","13327","13326","13321","13311","13306","13295","13293","13291","13286","13285","13284","13282","13277","13275","13270","13263","13258","13251","13250","13247","13246","13244","13241","13237","13233","13231","13228","13224","13221","13215","13206","13187","13184","13167","13166","13162","13157","13155","13147","13099","13069","13059","13056","13049","13048","13033","13031","13028","13026","13024","13023","13016","13015","13013","13008","13001","12989","12983","12979","12977","12955","12953","12951","12950","12947","12939","12936","12933","12932","12926","12923","12922","12904","12895","12892","12890","12876","12873","12860","12857","12850","12849","12848","12845","12839","12838","12835","12831","12810","12797","12753","12744","12723","12714","12705","12691","12684","12682","12680","12678","12675","12671","12669","12663","12655","12650","12648","12643","12640","12636","12635","12633","12621","12616","12613","12609","12608","12603","12601","12600","12599","12594","12593","12588","12585","12584","12577","12571","12570","12565","12561","12559","12554","12540","12533","12519","12510","12501","12497","12492","12488","12487","12479","12463","12458","12451","12441","12420","12419","12411","12402","12401","12397","12391","12378","12363","12355","12352","12346","12325","12317","12316","12313","12306","12303","12293","12237","12232","12213","12131","12127","12107","12101","11783","11775","11697","11691","11664","11585","11582","11571","13717","13706","13704","13198","13196","12351","12336","12279"]}');const C=[...k.photoIds,...P.photoIds];class M{constructor(t){this.history=[],this.currentPhoto=null,this.onChange=t.onChange,this.savePhoto=this.savePhoto.bind(this)}changePhotoTo(t){this.currentPhoto=t,this.onChange(this.currentPhoto,this.history)}async load(){this.history=await S(),this.latest&&this.changePhotoTo(this.latest),this.requestRandomPhoto()}select(t){let n=this.history.find(n=>n.id===t);n&&(this.changePhotoTo(n),n.dataUri||this.fetchDataUri(n).then(t=>{n.dataUri=t,this.changePhotoTo(n)}).catch(console.error))}get current(){return this.currentPhoto}get latest(){return 0===this.history.length?null:this.history[this.history.length-1]}savePhoto(t){let n=this.latest,e=this.history.map(t=>t.id);if(n&&t.id===n.id||e.includes(t.id)||!t.dataUri){this.requestRandomPhoto();return}let r=new b(t,()=>{var t;this.history.push(r),p(x,(t=this.history.slice(-10)).map((n,e)=>{let r=Object.assign({},n.data);return e!==t.length-1&&(r.dataUri=void 0),r})),!this.currentPhoto&&this.latest&&(this.changePhotoTo(this.latest),this.requestRandomPhoto())})}fetchDataUri(t){return E(t.id).then(t=>t.dataUri||"")}requestRandomPhoto(){E(C[Math.floor(Math.random()*C.length)]).then(this.savePhoto).catch(console.error)}}var N=Math.PI,A=N/2,L=N/4,$=2*N,D=180/N,O=N/180,T=Math.abs,q=Math.atan,U=Math.atan2,I=Math.cos,R=Math.sin,V=Math.sign||function(t){return t>0?1:t<0?-1:0},j=Math.sqrt;function H(t){return t>1?A:t<-1?-A:Math.asin(t)}function z(){}function B(){var t,n=[];return{point:function(n,e){t.push([n,e])},lineStart:function(){n.push(t=[])},lineEnd:z,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function F(t,n){return 1e-6>T(t[0]-n[0])&&1e-6>T(t[1]-n[1])}function X(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function W(t,n,e,r,i){var o,a,s=[],u=[];if(t.forEach(function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(F(r,a)){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);i.lineEnd();return}s.push(e=new X(r,t,null,!0)),u.push(e.o=new X(r,null,e,!1)),s.push(e=new X(a,t,null,!1)),u.push(e.o=new X(a,null,e,!0))}}),s.length){for(u.sort(n),Y(s),Y(u),o=0,a=u.length;o<a;++o)u[o].e=e=!e;for(var l,c,h=s[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,a=l.length;o<a;++o)i.point((c=l[o])[0],c[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(o=(l=f.p.z).length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,p=!p}while(!f.v)i.lineEnd()}}}function Y(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function G(){this.reset()}G.prototype={constructor:G,reset:function(){this.s=this.t=0},add:function(t){K(J,t,this.t),K(this,J.s,this.s),this.s?this.t+=J.t:this.s=J.t},valueOf:function(){return this.s}};var J=new G;function K(t,n,e){var r=t.s=n+e,i=r-n;t.t=n-(r-i)+(e-i)}function Q(t){return[U(t[1],t[0]),H(t[2])]}function Z(t){var n=t[0],e=t[1],r=I(e);return[r*I(n),r*R(n),R(e)]}function tt(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function tn(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function te(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function tr(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function ti(t){var n=j(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var to=new G;function ta(t){return T(t[0])<=N?t[0]:V(t[0])*((T(t[0])+N)%$-N)}function ts(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var tu=(1===(tz=ts).length&&(tH=tz,tz=function(t,n){return ts(tH(t),n)}),{left:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;0>tz(t[i],n)?e=i+1:r=i}return e},right:function(t,n,e,r){for(null==e&&(e=0),null==r&&(r=t.length);e<r;){var i=e+r>>>1;tz(t[i],n)>0?r=i:e=i+1}return e}});tu.right,tu.left;var tl=Array.prototype;function tc(t){for(var n,e,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(e=Array(a);--i>=0;)for(n=(r=t[i]).length;--n>=0;)e[--a]=r[n];return e}function th(t,n,e,r){return function(i){var o,a,s,u=n(i),l=B(),c=n(l),h=!1,f={point:p,lineStart:g,lineEnd:y,polygonStart:function(){f.point=v,f.lineStart=m,f.lineEnd=_,a=[],o=[]},polygonEnd:function(){f.point=p,f.lineStart=g,f.lineEnd=y,a=tc(a);var t=function(t,n){var e=ta(n),r=n[1],i=R(r),o=[R(e),-I(e),0],a=0,s=0;to.reset(),1===i?r=A+1e-6:-1===i&&(r=-A-1e-6);for(var u=0,l=t.length;u<l;++u)if(h=(c=t[u]).length)for(var c,h,f=c[h-1],p=ta(f),d=f[1]/2+L,g=R(d),y=I(d),v=0;v<h;++v,p=_,g=b,y=x,f=m){var m=c[v],_=ta(m),w=m[1]/2+L,b=R(w),x=I(w),S=_-p,E=S>=0?1:-1,k=E*S,P=k>N,C=g*b;if(to.add(U(C*E*R(k),y*x+C*I(k))),a+=P?S+E*$:S,P^p>=e^_>=e){var M=tn(Z(f),Z(m));ti(M);var D=tn(o,M);ti(D);var O=(P^S>=0?-1:1)*H(D[2]);(r>O||r===O&&(M[0]||M[1]))&&(s+=P^S>=0?1:-1)}}return(a<-.000001||a<1e-6&&to<-.000001)^1&s}(o,r);a.length?(h||(i.polygonStart(),h=!0),W(a,tp,t,e,i)):t&&(h||(i.polygonStart(),h=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function p(n,e){t(n,e)&&i.point(n,e)}function d(t,n){u.point(t,n)}function g(){f.point=d,u.lineStart()}function y(){f.point=p,u.lineEnd()}function v(t,n){s.push([t,n]),c.point(t,n)}function m(){c.lineStart(),s=[]}function _(){v(s[0][0],s[0][1]),c.lineEnd();var t,n,e,r,u=c.clean(),f=l.result(),p=f.length;if(s.pop(),o.push(s),s=null,p){if(1&u){if((n=(e=f[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}return}p>1&&2&u&&f.push(f.pop().concat(f.shift())),a.push(f.filter(tf))}}return f}}function tf(t){return t.length>1}function tp(t,n){return((t=t.x)[0]<0?t[1]-A-1e-6:A-t[1])-((n=n.x)[0]<0?n[1]-A-1e-6:A-n[1])}tl.slice,tl.map;var td=th(function(){return!0},function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var s,u,l,c,h,f,p=o>0?N:-N,d=T(o-e);1e-6>T(d-N)?(t.point(e,r=(r+a)/2>0?A:-A),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(p,r),t.point(o,r),n=0):i!==p&&d>=N&&(1e-6>T(e-i)&&(e-=1e-6*i),1e-6>T(o-p)&&(o-=1e-6*p),s=e,u=r,r=T(f=R(s-(l=o)))>1e-6?q((R(u)*(h=I(a))*R(l)-R(a)*(c=I(u))*R(s))/(c*h*f)):(u+a)/2,t.point(i,r),t.lineEnd(),t.lineStart(),t.point(p,r),n=0),t.point(e=o,r=a),i=p},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}},function(t,n,e,r){var i;if(null==t)i=e*A,r.point(-N,i),r.point(0,i),r.point(N,i),r.point(N,0),r.point(N,-i),r.point(0,-i),r.point(-N,-i),r.point(-N,0),r.point(-N,i);else if(T(t[0]-n[0])>1e-6){var o=t[0]<n[0]?N:-N;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])},[-N,-A]);function tg(t,n){function e(e,r){return n((e=t(e,r))[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function ty(t,n){return[T(t)>N?t+Math.round(-t/$)*$:t,n]}function tv(t){return function(n,e){return[(n+=t)>N?n-$:n<-N?n+$:n,e]}}function tm(t){var n=tv(t);return n.invert=tv(-t),n}function t_(t,n){var e=I(t),r=R(t),i=I(n),o=R(n);function a(t,n){var a=I(n),s=I(t)*a,u=R(t)*a,l=R(n),c=l*e+s*r;return[U(u*i-c*o,s*e-l*r),H(c*i+u*o)]}return a.invert=function(t,n){var a=I(n),s=I(t)*a,u=R(t)*a,l=R(n),c=l*i-u*o;return[U(u*i+l*o,s*e+c*r),H(c*e-s*r)]},a}function tw(t,n){n=Z(n),n[0]-=t,ti(n);var e,r=(e=-n[1])>1?0:e<-1?N:Math.acos(e);return((0>-n[2]?-r:r)+$-1e-6)%$}function tb(t){return t}function tx(t){return function(n){var e=new tS;for(var r in t)e[r]=t[r];return e.stream=n,e}}function tS(){}function tE(t,n){t&&tP.hasOwnProperty(t.type)&&tP[t.type](t,n)}ty.invert=ty,tS.prototype={constructor:tS,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var tk={Feature:function(t,n){tE(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)tE(e[r].geometry,n)}},tP={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){tC(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)tC(e[r],n,0)},Polygon:function(t,n){tM(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)tM(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)tE(e[r],n)}};function tC(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function tM(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)tC(t[e],n,1);n.polygonEnd()}function tN(t,n){t&&tk.hasOwnProperty(t.type)?tk[t.type](t,n):tE(t,n)}var tA=1/0,tL=1/0,t$=-1/0,tD=t$,tO={point:function(t,n){t<tA&&(tA=t),t>t$&&(t$=t),n<tL&&(tL=n),n>tD&&(tD=n)},lineStart:z,lineEnd:z,polygonStart:z,polygonEnd:z,result:function(){var t=[[tA,tL],[t$,tD]];return t$=tD=-(tL=tA=1/0),t}};function tT(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),tN(e,t.stream(tO)),n(tO.result()),null!=r&&t.clipExtent(r),t}function tq(t,n,e){return tT(t,function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,s=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,s])},e)}var tU=I(30*O);function tI(t,n){return+n?function(t,n){function e(r,i,o,a,s,u,l,c,h,f,p,d,g,y){var v=l-r,m=c-i,_=v*v+m*m;if(_>4*n&&g--){var w=a+f,b=s+p,x=u+d,S=j(w*w+b*b+x*x),E=H(x/=S),k=1e-6>T(T(x)-1)||1e-6>T(o-h)?(o+h)/2:U(b,w),P=t(k,E),C=P[0],M=P[1],N=C-r,A=M-i,L=m*N-v*A;(L*L/_>n||T((v*N+m*A)/_-.5)>.3||a*f+s*p+u*d<tU)&&(e(r,i,o,a,s,u,C,M,k,w/=S,b/=S,x,g,y),y.point(C,M),e(C,M,k,w,b,x,l,c,h,f,p,d,g,y))}}return function(n){var r,i,o,a,s,u,l,c,h,f,p,d,g={point:y,lineStart:v,lineEnd:_,polygonStart:function(){n.polygonStart(),g.lineStart=w},polygonEnd:function(){n.polygonEnd(),g.lineStart=v}};function y(e,r){e=t(e,r),n.point(e[0],e[1])}function v(){c=NaN,g.point=m,n.lineStart()}function m(r,i){var o=Z([r,i]),a=t(r,i);e(c,h,l,f,p,d,c=a[0],h=a[1],l=r,f=o[0],p=o[1],d=o[2],16,n),n.point(c,h)}function _(){g.point=y,n.lineEnd()}function w(){v(),g.point=b,g.lineEnd=x}function b(t,n){m(r=t,n),i=c,o=h,a=f,s=p,u=d,g.point=m}function x(){e(c,h,l,f,p,d,i,o,r,a,s,u,16,n),g.lineEnd=_,_()}return g}}(t,n):tx({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}var tR=tx({point:function(t,n){this.stream.point(t*O,n*O)}});function tV(t,n,e,r){var i=I(r),o=R(r),a=i*t,s=o*t,u=i/t,l=o/t,c=(o*e-i*n)/t,h=(o*n+i*e)/t;function f(t,r){return[a*t-s*r+n,e-s*t-a*r]}return f.invert=function(t,n){return[u*t-l*n+c,h-l*t-u*n]},f}function tj(t,n){return[I(n)*R(t),R(n)]}tj.invert=function(t,n){var e=j(t*t+n*n),r=H(e),i=R(r);return[U(t*i,e*I(r)),H(e&&n*i/e)]};var tH,tz,tB,tF,tX,tW,tY=new G,tG=new G,tJ={point:z,lineStart:z,lineEnd:z,polygonStart:function(){tJ.lineStart=tK,tJ.lineEnd=t1},polygonEnd:function(){tJ.lineStart=tJ.lineEnd=tJ.point=z,tY.add(T(tG)),tG.reset()},result:function(){return tY.reset(),tY/2}};function tK(){tJ.point=tQ}function tQ(t,n){tJ.point=tZ,tB=tX=t,tF=tW=n}function tZ(t,n){tG.add(tW*t-tX*n),tX=t,tW=n}function t1(){tZ(tB,tF)}var t2,t0,t3,t4,t5=0,t6=0,t9=0,t8=0,t7=0,nt=0,nn=0,ne=0,nr=0,ni={point:no,lineStart:na,lineEnd:nl,polygonStart:function(){ni.lineStart=nc,ni.lineEnd=nh},polygonEnd:function(){ni.point=no,ni.lineStart=na,ni.lineEnd=nl},result:function(){var t=nr?[nn/nr,ne/nr]:nt?[t8/nt,t7/nt]:t9?[t5/t9,t6/t9]:[NaN,NaN];return t5=t6=t9=t8=t7=nt=nn=ne=nr=0,t}};function no(t,n){t5+=t,t6+=n,++t9}function na(){ni.point=ns}function ns(t,n){ni.point=nu,no(t3=t,t4=n)}function nu(t,n){var e=t-t3,r=n-t4,i=j(e*e+r*r);t8+=i*(t3+t)/2,t7+=i*(t4+n)/2,nt+=i,no(t3=t,t4=n)}function nl(){ni.point=no}function nc(){ni.point=nf}function nh(){np(t2,t0)}function nf(t,n){ni.point=np,no(t2=t3=t,t0=t4=n)}function np(t,n){var e=t-t3,r=n-t4,i=j(e*e+r*r);t8+=i*(t3+t)/2,t7+=i*(t4+n)/2,nt+=i,nn+=(i=t4*t-t3*n)*(t3+t),ne+=i*(t4+n),nr+=3*i,no(t3=t,t4=n)}function nd(t){this._context=t}nd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,$)}},result:z};var ng,ny,nv,nm,n_,nw=new G,nb={point:z,lineStart:function(){nb.point=nx},lineEnd:function(){ng&&nS(ny,nv),nb.point=z},polygonStart:function(){ng=!0},polygonEnd:function(){ng=null},result:function(){return nw.reset(),+nw}};function nx(t,n){nb.point=nS,ny=nm=t,nv=n_=n}function nS(t,n){nm-=t,n_-=n,nw.add(j(nm*nm+n_*n_)),nm=t,n_=n}function nE(){this._string=[]}function nk(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function nP(){}function nC(t){return null==t?nP:function(){return this.querySelector(t)}}function nM(){return[]}function nN(t){return null==t?nM:function(){return this.querySelectorAll(t)}}function nA(t){return function(){return this.matches(t)}}function nL(t){return Array(t.length)}function n$(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function nD(t,n,e,r,i,o){for(var a,s=0,u=n.length,l=o.length;s<l;++s)(a=n[s])?(a.__data__=o[s],r[s]=a):e[s]=new n$(t,o[s]);for(;s<u;++s)(a=n[s])&&(i[s]=a)}function nO(t,n,e,r,i,o,a){var s,u,l,c={},h=n.length,f=o.length,p=Array(h);for(s=0;s<h;++s)(u=n[s])&&(p[s]=l="$"+a.call(u,u.__data__,s,n),l in c?i[s]=u:c[l]=u);for(s=0;s<f;++s)(u=c[l="$"+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],c[l]=null):e[s]=new n$(t,o[s]);for(s=0;s<h;++s)(u=n[s])&&c[p[s]]===u&&(i[s]=u)}function nT(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}nE.prototype={_radius:4.5,_circle:nk(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=nk(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(!this._string.length)return null;var t=this._string.join("");return this._string=[],t}},n$.prototype={constructor:n$,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var nq="http://www.w3.org/1999/xhtml",nU={svg:"http://www.w3.org/2000/svg",xhtml:nq,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nI(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),nU.hasOwnProperty(n)?{space:nU[n],local:t}:t}function nR(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function nV(t,n){return t.style.getPropertyValue(n)||nR(t).getComputedStyle(t,null).getPropertyValue(n)}function nj(t){return t.trim().split(/^|\s+/)}function nH(t){return t.classList||new nz(t)}function nz(t){this._node=t,this._names=nj(t.getAttribute("class")||"")}function nB(t,n){for(var e=nH(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function nF(t,n){for(var e=nH(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function nX(){this.textContent=""}function nW(){this.innerHTML=""}function nY(){this.nextSibling&&this.parentNode.appendChild(this)}function nG(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nJ(t){var n=nI(t);return(n.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===nq&&n.documentElement.namespaceURI===nq?n.createElement(t):n.createElementNS(e,t)}})(n)}function nK(){return null}function nQ(){var t=this.parentNode;t&&t.removeChild(this)}function nZ(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function n1(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}nz.prototype={add:function(t){0>this._names.indexOf(t)&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var n2={},n0=null;function n3(t,n,e){return t=n4(t,n,e),function(n){var e=n.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||t.call(this,n)}}function n4(t,n,e){return function(r){var i=n0;n0=r;try{t.call(this,this.__data__,n,e)}finally{n0=i}}}function n5(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)(e=n[r],t.type&&e.type!==t.type||e.name!==t.name)?n[++i]=e:this.removeEventListener(e.type,e.listener,e.capture);++i?n.length=i:delete this.__on}}}function n6(t,n,e){var r=n2.hasOwnProperty(t.type)?n3:n4;return function(i,o,a){var s,u=this.__on,l=r(n,o,a);if(u){for(var c=0,h=u.length;c<h;++c)if((s=u[c]).type===t.type&&s.name===t.name){this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=e),s.value=n;return}}this.addEventListener(t.type,l,e),s={type:t.type,name:t.name,value:n,listener:l,capture:e},u?u.push(s):this.__on=[s]}}function n9(t,n,e){var r=nR(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}"undefined"==typeof document||"onmouseenter"in document.documentElement||(n2={mouseenter:"mouseover",mouseleave:"mouseout"});var n8=[null];function n7(t,n){this._groups=t,this._parents=n}function et(){return new n7([[document.documentElement]],n8)}n7.prototype=et.prototype={constructor:n7,select:function(t){"function"!=typeof t&&(t=nC(t));for(var n=this._groups,e=n.length,r=Array(e),i=0;i<e;++i)for(var o,a,s=n[i],u=s.length,l=r[i]=Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new n7(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=nN(t));for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var a,s=n[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new n7(r,i)},filter:function(t){"function"!=typeof t&&(t=nA(t));for(var n=this._groups,e=n.length,r=Array(e),i=0;i<e;++i)for(var o,a=n[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new n7(r,this._parents)},data:function(t,n){if(!t)return p=Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var e=n?nO:nD,r=this._parents,i=this._groups;"function"!=typeof t&&(v=t,t=function(){return v});for(var o=i.length,a=Array(o),s=Array(o),u=Array(o),l=0;l<o;++l){var c=r[l],h=i[l],f=h.length,p=t.call(c,c&&c.__data__,l,r),d=p.length,g=s[l]=Array(d),y=a[l]=Array(d);e(c,h,g,y,u[l]=Array(f),p,n);for(var v,m,_,w=0,b=0;w<d;++w)if(m=g[w]){for(w>=b&&(b=w+1);!(_=y[b])&&++b<d;);m._next=_||null}}return(a=new n7(a,r))._enter=s,a._exit=u,a},enter:function(){return new n7(this._enter||this._groups.map(nL),this._parents)},exit:function(){return new n7(this._exit||this._groups.map(nL),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=Array(r),s=0;s<o;++s)for(var u,l=n[s],c=e[s],h=l.length,f=a[s]=Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;s<r;++s)a[s]=n[s];return new n7(a,this._parents)},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=nT);for(var e=this._groups,r=e.length,i=Array(r),o=0;o<r;++o){for(var a,s=e[o],u=s.length,l=i[o]=Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(n)}return new n7(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=Array(this.size()),n=-1;return this.each(function(){t[++n]=this}),t},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=nI(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}:function(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):nV(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=nj(t+"");if(arguments.length<2){for(var r=nH(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?nB:nF)(this,t)}}:n?function(t){return function(){nB(this,t)}}:function(t){return function(){nF(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?nX:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?nW:("function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(nY)},lower:function(){return this.each(nG)},append:function(t){var n="function"==typeof t?t:nJ(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:nJ(t),r=null==n?nK:"function"==typeof n?n:nC(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(nQ)},clone:function(t){return this.select(t?n1:nZ)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}),a=o.length;if(arguments.length<2){var s=this.node().__on;if(s){for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value}return}for(s=n?n6:n5,null==e&&(e=!1),r=0;r<a;++r)this.each(s(o[r],n,e));return this},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return n9(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return n9(this,t,n)}})(t,n))}};var en={value:function(){}};function ee(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw Error("illegal type: "+t);r[t]=[]}return new er(r)}function er(t){this._=t}function ei(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=en,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}er.prototype=ee.prototype={constructor:er,on:function(t,n){var e,r=this._,i=(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw Error("unknown type: "+t);return{type:t,name:n}}),o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((e=(t=i[o]).type)&&(e=function(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}(r[e],t.name)))return e;return}if(null!=n&&"function"!=typeof n)throw Error("invalid callback: "+n);for(;++o<a;)if(e=(t=i[o]).type)r[e]=ei(r[e],t.name,n);else if(null==n)for(e in r)r[e]=ei(r[e],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new er(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(r=this._[t],o=0,e=r.length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var eo,ea,es=0,eu=0,el=0,ec=0,eh=0,ef=0,ep="object"==typeof performance&&performance.now?performance:Date,ed="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function eg(){return eh||(ed(ey),eh=ep.now()+ef)}function ey(){eh=0}function ev(){this._call=this._time=this._next=null}function em(t,n,e){var r=new ev;return r.restart(t,n,e),r}function e_(){eh=(ec=ep.now())+ef,es=eu=0;try{!function(){eg(),++es;for(var t,n=eo;n;)(t=eh-n._time)>=0&&n._call.call(null,t),n=n._next;--es}()}finally{es=0,function(){for(var t,n,e=eo,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:eo=n);ea=t,eb(r)}(),eh=0}}function ew(){var t=ep.now(),n=t-ec;n>1e3&&(ef-=n,ec=t)}function eb(t){!es&&(eu&&(eu=clearTimeout(eu)),t-eh>24?(t<1/0&&(eu=setTimeout(e_,t-ep.now()-ef)),el&&(el=clearInterval(el))):(el||(ec=ep.now(),el=setInterval(ew,1e3)),es=1,ed(e_)))}function ex(t,n,e){var r=new ev;return n=null==n?0:+n,r.restart(function(e){r.stop(),t(e+n)},n,e),r}ev.prototype=em.prototype={constructor:ev,restart:function(t,n,e){if("function"!=typeof t)throw TypeError("callback is not a function");e=(null==e?eg():+e)+(null==n?0:+n),this._next||ea===this||(ea?ea._next=this:eo=this,ea=this),this._call=t,this._time=e,eb()},stop:function(){this._call&&(this._call=null,this._time=1/0,eb())}};var eS=ee("start","end","cancel","interrupt"),eE=[];function ek(t,n,e,r,i,o){var a=t.__transition;if(a){if(e in a)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(u){var l,c,h,f;if(1!==e.state)return s();for(l in i)if((f=i[l]).name===e.name){if(3===f.state)return ex(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<n&&(f.state=6,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(ex(function(){3===e.state&&(e.state=4,e.timer.restart(a,e.delay,e.time),a(u))}),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(l=0,e.state=3,r=Array(h=e.tween.length),c=-1;l<h;++l)(f=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=f);r.length=c+1}}function a(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(s),e.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),s())}function s(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=em(function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)},0,e.time)}(t,e,{name:n,index:r,group:i,on:eS,tween:eE,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function eP(t,n){var e=eM(t,n);if(e.state>0)throw Error("too late; already scheduled");return e}function eC(t,n){var e=eM(t,n);if(e.state>3)throw Error("too late; already running");return e}function eM(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw Error("transition not found");return e}function eN(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var eA=180/Math.PI,eL={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function e$(t,n,e,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(s=Math.sqrt(e*e+r*r))&&(e/=s,r/=s,u/=s),t*r<n*e&&(t=-t,n=-n,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*eA,skewX:Math.atan(u)*eA,scaleX:a,scaleY:s}}function eD(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s,u,l,c,h=[],f=[];return o=t(o),a=t(a),!function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,n,null,e);s.push({i:u-4,x:eN(t,i)},{i:u-2,x:eN(r,o)})}else(i||o)&&a.push("translate("+i+n+o+e)}(o.translateX,o.translateY,a.translateX,a.translateY,h,f),(s=o.rotate)!==(u=a.rotate)?(s-u>180?u+=360:u-s>180&&(s+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:eN(s,u)})):u&&h.push(i(h)+"rotate("+u+r),(l=o.skewX)!==(c=a.skewX)?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:eN(l,c)}):c&&h.push(i(h)+"skewX("+c+r),!function(t,n,e,r,o,a){if(t!==e||n!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:eN(t,e)},{i:s-2,x:eN(n,r)})}else(1!==e||1!==r)&&o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,h,f),o=a=null,function(t){for(var n,e=-1,r=f.length;++e<r;)h[(n=f[e]).i]=n.x(t);return h.join("")}}}var eO=eD(function(t){return"none"===t?eL:(n||(n=document.createElement("DIV"),e=document.documentElement,r=document.defaultView),n.style.transform=t,t=r.getComputedStyle(e.appendChild(n),null).getPropertyValue("transform"),e.removeChild(n),e$(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),eT=eD(function(t){return null==t?eL:(i||(i=document.createElementNS("http://www.w3.org/2000/svg","g")),i.setAttribute("transform",t),t=i.transform.baseVal.consolidate())?e$((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):eL},", ",")",")");function eq(t,n,e){var r=t._id;return t.each(function(){var t=eC(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return eM(t,r).value[n]}}var eU=(u("bgSe7"),u("bgSe7"));function eI(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}function eR(t){return function(){return t}}function eV(t,n){var e=n-t;return e?function(n){return t+n*e}:eR(isNaN(t)?n:t)}var ej=function t(n){var e,r=1==(e=+(e=n))?eV:function(t,n){var r,i,o;return n-t?(r=t,i=n,r=Math.pow(r,o=e),i=Math.pow(i,o)-r,o=1/o,function(t){return Math.pow(r+t*i,o)}):eR(isNaN(t)?n:t)};function i(t,n){var e=r((t=(0,eU.rgb)(t)).r,(n=(0,eU.rgb)(n)).r),i=r(t.g,n.g),o=r(t.b,n.b),a=eV(t.opacity,n.opacity);return function(n){return t.r=e(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return i.gamma=t,i}(1);function eH(t){return function(n){var e,r,i=n.length,o=Array(i),a=Array(i),s=Array(i);for(e=0;e<i;++e)r=(0,eU.rgb)(n[e]),o[e]=r.r||0,a[e]=r.g||0,s[e]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}eH(function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<n-1?t[r+2]:2*o-i;return eI((e-r/n)*n,a,i,o,s)}}),eH(function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],a=t[(r+1)%n],s=t[(r+2)%n];return eI((e-r/n)*n,i,o,a,s)}});var ez=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eB=RegExp(ez.source,"g");function eF(t,n){var e;return("number"==typeof n?eN:n instanceof(0,eU.default)?ej:(e=(0,eU.default)(n))?(n=e,ej):function(t,n){var e,r,i,o,a,s=ez.lastIndex=eB.lastIndex=0,u=-1,l=[],c=[];for(t+="",n+="";(i=ez.exec(t))&&(o=eB.exec(n));)(a=o.index)>s&&(a=n.slice(s,a),l[u]?l[u]+=a:l[++u]=a),(i=i[0])===(o=o[0])?l[u]?l[u]+=o:l[++u]=o:(l[++u]=null,c.push({i:u,x:eN(i,o)})),s=eB.lastIndex;return s<n.length&&(a=n.slice(s),l[u]?l[u]+=a:l[++u]=a),l.length<2?c[0]?(e=c[0].x,function(t){return e(t)+""}):(r=n,function(){return r}):(n=c.length,function(t){for(var e,r=0;r<n;++r)l[(e=c[r]).i]=e.x(t);return l.join("")})})(t,n)}var eX=et.prototype.constructor;function eW(t){return function(){this.style.removeProperty(t)}}var eY=0;function eG(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function eJ(t){return et().transition(t)}var eK=et.prototype;eG.prototype=eJ.prototype={constructor:eG,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=nC(t));for(var r=this._groups,i=r.length,o=Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,h=o[a]=Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,ek(h[f],n,e,f,h,eM(s,e)));return new eG(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=nN(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,p=t.call(u,u.__data__,h,l),d=eM(u,e),g=0,y=p.length;g<y;++g)(f=p[g])&&ek(f,n,e,g,p,d);o.push(p),a.push(u)}return new eG(o,a,n,e)},filter:function(t){"function"!=typeof t&&(t=nA(t));for(var n=this._groups,e=n.length,r=Array(e),i=0;i<e;++i)for(var o,a=n[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new eG(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw Error();for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),a=Array(r),s=0;s<o;++s)for(var u,l=n[s],c=e[s],h=l.length,f=a[s]=Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;s<r;++s)a[s]=n[s];return new eG(a,this._parents,this._name,this._id)},selection:function(){return new eX(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=++eY,r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=eM(a,n);ek(a,t,e,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new eG(r,this._parents,t,e)},call:eK.call,nodes:eK.nodes,node:eK.node,size:eK.size,empty:eK.empty,each:eK.each,on:function(t,n){var e,r,i,o=this._id;return arguments.length<2?eM(this.node(),o).on.on(t):this.each((i=(t+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t})?eP:eC,function(){var a=i(this,o),s=a.on;s!==e&&(r=(e=s).copy()).on(t,n),a.on=r}))},attr:function(t,n){var e=nI(t),r="transform"===e?eT:eF;return this.attrTween(t,"function"==typeof n?(e.local?function(t,n,e){var r,i,o;return function(){var a,s,u=e(this);return null==u?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}}:function(t,n,e){var r,i,o;return function(){var a,s,u=e(this);return null==u?void this.removeAttribute(t):(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=n(r=a,u))}})(e,r,eq(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=n(r=a,e)}}:function(t,n,e){var r,i,o=e+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=n(r=a,e)}})(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw Error();var r=nI(t);return this.tween(e,(r.local?function(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(n){this.setAttributeNS(t.space,t.local,i.call(this,n))}),e}return i._value=n,i}:function(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&function(n){this.setAttribute(t,i.call(this,n))}),e}return i._value=n,i})(r,n))},style:function(t,n,e){var r,i,o,a,s,u,l,c,h,f,p,d,g,y,v,m,_,w,b,x,S,E="transform"==(t+="")?eO:eF;return null==n?this.styleTween(t,(r=t,function(){var t=nV(this,r),n=(this.style.removeProperty(r),nV(this,r));return t===n?null:t===i&&n===o?a:a=E(i=t,o=n)})).on("end.style."+t,eW(t)):"function"==typeof n?this.styleTween(t,(s=t,u=eq(this,"style."+t,n),function(){var t=nV(this,s),n=u(this),e=n+"";return null==n&&(this.style.removeProperty(s),e=n=nV(this,s)),t===e?null:t===l&&e===c?h:(c=e,h=E(l=t,n))})).each((f=this._id,_="end."+(m="style."+(p=t)),function(){var t=eC(this,f),n=t.on,e=null==t.value[m]?v||(v=eW(p)):void 0;(n!==d||y!==e)&&(g=(d=n).copy()).on(_,y=e),t.on=g})):this.styleTween(t,(w=t,S=n+"",function(){var t=nV(this,w);return t===S?null:t===b?x:x=E(b=t,n)}),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw Error();return this.tween(r,function(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&function(n){this.style.setProperty(t,o.call(this,n),e)}),r}return o._value=n,o}(t,n,null==e?"":e))},text:function(t){var n,e;return this.tween("text","function"==typeof t?(n=eq(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();return this.tween(n,function(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function(t){this.textContent=r.call(this,t)}),n}return r._value=t,r}(t))},remove:function(){var t;return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=eM(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(t,n){var e,r;return function(){var i=eC(this,t),o=i.tween;if(o!==e){r=e=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===n){(r=r.slice()).splice(a,1);break}}i.tween=r}}:function(t,n,e){var r,i;if("function"!=typeof e)throw Error();return function(){var o=eC(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:n,value:e},u=0,l=i.length;u<l;++u)if(i[u].name===n){i[u]=s;break}u===l&&i.push(s)}o.tween=i}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){eP(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){eP(this,t).delay=n}})(n,t)):eM(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){eC(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){eC(this,t).duration=n}})(n,t)):eM(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw Error();return function(){eC(this,t).ease=n}}(n,t)):eM(this.node(),n).ease},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};e.each(function(){var e=eC(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(s),n._.interrupt.push(s),n._.end.push(u)),e.on=n})})}};var eQ={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function eZ(t){return t}function e1(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,o=function(t,n){var e=function(t){if(null==t)return eZ;var n,e,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,s){s||(n=e=0);var u=2,l=t.length,c=Array(l);for(c[0]=(n+=t[0])*r+o,c[1]=(e+=t[1])*i+a;u<l;)c[u]=t[u],++u;return c}}(t.transform),r=t.arcs;function i(t){return e(t)}function o(t){for(var n=[],i=0,o=t.length;i<o;++i)!function(t,n){n.length&&n.pop();for(var i=r[t<0?~t:t],o=0,a=i.length;o<a;++o)n.push(e(i[o],o));t<0&&function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}(n,a)}(t[i],n);return n.length<2&&n.push(n[0]),n}function a(t){for(var n=o(t);n.length<4;)n.push(n[0]);return n}function s(t){return t.map(a)}return function t(n){var e,r=n.type;switch(r){case"GeometryCollection":return{type:r,geometries:n.geometries.map(t)};case"Point":e=i(n.coordinates);break;case"MultiPoint":e=n.coordinates.map(i);break;case"LineString":e=o(n.arcs);break;case"MultiLineString":e=n.arcs.map(o);break;case"Polygon":e=s(n.arcs);break;case"MultiPolygon":e=n.arcs.map(s);break;default:return null}return{type:r,coordinates:e}}(n)}(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}et.prototype.interrupt=function(t){return this.each(function(){!function(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o){if((e=o[i]).name!==n){a=!1;continue}r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]}a&&delete t.__transition}}(this,t)})},et.prototype.transition=function(t){var n,e;t instanceof eG?(n=t._id,t=t._name):(n=++eY,(e=eQ).time=eg(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&ek(a,t,n,l,s,e||function(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))return eQ.time=eg(),eQ;return e}(a,n));return new eG(r,this._parents,t,n)};var e2={type:"Topology",objects:{land:{type:"GeometryCollection",geometries:[{type:"Polygon",arcs:[[0]]},{type:"Polygon",arcs:[[1]]},{type:"Polygon",arcs:[[2]]},{type:"Polygon",arcs:[[3]]},{type:"Polygon",arcs:[[4]]},{type:"Polygon",arcs:[[5]]},{type:"Polygon",arcs:[[6]]},{type:"Polygon",arcs:[[7]]},{type:"Polygon",arcs:[[8]]},{type:"Polygon",arcs:[[9]]},{type:"Polygon",arcs:[[10]]},{type:"Polygon",arcs:[[11]]},{type:"Polygon",arcs:[[12]]},{type:"Polygon",arcs:[[13]]},{type:"Polygon",arcs:[[14]]},{type:"Polygon",arcs:[[15]]},{type:"Polygon",arcs:[[16]]},{type:"Polygon",arcs:[[17]]},{type:"Polygon",arcs:[[18]]},{type:"Polygon",arcs:[[19]]},{type:"Polygon",arcs:[[20]]},{type:"Polygon",arcs:[[21]]},{type:"Polygon",arcs:[[22]]},{type:"Polygon",arcs:[[23,24]]},{type:"Polygon",arcs:[[25]]},{type:"Polygon",arcs:[[26]]},{type:"Polygon",arcs:[[27]]},{type:"Polygon",arcs:[[28]]},{type:"Polygon",arcs:[[29]]},{type:"Polygon",arcs:[[30]]},{type:"Polygon",arcs:[[31,-25],[32]]},{type:"Polygon",arcs:[[33]]},{type:"Polygon",arcs:[[34]]},{type:"Polygon",arcs:[[35]]}]}},arcs:[[[3098,1097],[-159,-82],[109,200],[50,-118]],[[0,304],[873,-52],[-119,205],[179,98],[-249,75],[306,203],[254,70],[591,34],[369,-91],[-84,155],[424,-23],[338,-55],[203,55],[33,328],[173,-218],[-13,-192],[-424,-132],[52,-204],[476,-169],[235,84],[590,80],[-189,129],[696,394],[550,73],[362,-39],[812,255],[127,16],[167,-118],[181,5],[-26,-226],[412,267],[470,-1],[87,96],[93,-78],[205,60],[588,-18],[298,-41],[245,-94],[470,-182],[-215,-309],[-102,-223],[-9438,-217]],[[9038,2834],[80,-5],[-62,-154],[-18,159]],[[9805,2826],[34,-49],[-136,-280],[-64,88],[166,241]],[[9849,3100],[109,-88],[-70,-207],[-61,102],[22,193]],[[6390,4402],[-6,-167],[-76,-489],[-85,-3],[-20,128],[31,378],[91,93],[41,147],[24,-87]],[[8987,4390],[28,-24],[50,-275],[69,-84],[111,-280],[7,-325],[-102,-395],[-87,-72],[-157,58],[-30,109],[-99,71],[-48,131],[-82,65],[-144,-42],[-69,-96],[-156,-68],[-84,50],[22,115],[-67,450],[21,152],[186,118],[60,190],[113,149],[36,-61],[111,216],[127,-71],[-42,-136],[106,-153],[45,0],[46,386],[29,-178]],[[8017,4792],[58,18],[106,-131],[-255,109],[91,4]],[[8725,5116],[37,-127],[80,95],[173,-124],[116,-302],[-23,-59],[-88,144],[-59,-98],[-110,116],[-21,111],[-118,107],[-87,149],[100,-12]],[[8478,5264],[-22,-57],[-118,-11],[82,-321],[-79,139],[3,-150],[-46,157],[59,237],[121,6]],[[7939,4845],[-90,94],[-112,348],[-88,182],[58,16],[177,-297],[63,-182],[-8,-161]],[[8273,5288],[-47,-337],[-165,63],[-31,142],[15,142],[93,63],[104,220],[68,-87],[-37,-206]],[[8510,5667],[-28,-163],[-49,130],[77,33]],[[8369,6248],[33,-81],[-21,-159],[-47,37],[35,203]],[[2984,6327],[118,-73],[-94,-32],[-24,105]],[[2786,6493],[153,-142],[-99,-25],[-54,167]],[[8915,7321],[-20,-115],[-257,-72],[130,94],[104,155],[24,172],[44,-116],[-25,-118]],[[3440,8101],[53,-169],[-140,-8],[87,177]],[[8989,8105],[-43,-276],[14,449],[29,-173]],[[4811,8192],[-89,-27],[8,120],[112,39],[-31,-132]],[[4916,8559],[99,-453],[-176,-36],[60,257],[-55,40],[72,192]],[[2634,8963],[141,-111],[-151,-39],[10,150]],[[4597,9009],[-116,-170],[-157,122],[273,48]],[[0,9154],[281,-172],[-112,-98],[-169,40]],[[0,8924],[0,230]],[[2485,9184],[88,-132],[51,154],[115,-159],[-327,-293],[-42,-177],[268,-210],[76,-9],[66,-227],[2,199],[92,108],[-55,131],[11,202],[237,-72],[54,-165],[85,123],[77,-230],[124,-99],[46,-144],[-121,-108],[-177,-2],[54,-229],[129,-18],[-154,-137],[-132,7],[4,-117],[-81,-24],[-79,-189],[0,-137],[-156,-237],[36,-263],[-31,-96],[-81,281],[-153,5],[5,-58],[-147,18],[-74,-121],[-14,-284],[96,-248],[101,66],[14,99],[90,31],[-53,-326],[161,-51],[-20,-209],[68,-149],[51,48],[76,-56],[38,114],[104,105],[9,-85],[265,-14],[-14,-45],[145,-229],[119,-32],[81,-251],[-21,-48],[298,-178],[132,-149],[3,-204],[-106,-276],[-24,-334],[-62,-195],[-73,-21],[-106,-147],[-11,-160],[-168,-361],[-99,30],[47,-142],[-68,-105],[-86,-6],[5,-107],[-151,-324],[54,-54],[-149,-379],[-109,90],[-20,323],[69,549],[48,271],[38,634],[-8,176],[-157,213],[-150,571],[37,317],[82,177],[-9,164],[-46,132],[-25,-83],[-161,149],[-51,160],[-99,58],[-97,131],[-51,-31],[-193,152],[-62,123],[-8,135],[-173,356],[-69,69],[147,-391],[-76,79],[-80,172],[-62,306],[-93,90],[-86,249],[-24,544],[49,36],[-129,105],[-185,420],[-361,159],[-346,-306],[52,116],[-235,226],[149,189],[-166,206],[282,172],[559,-141],[232,91],[396,-120],[534,-19],[-15,222],[130,-140]],[[1829,9393],[243,-26],[83,-226],[-303,-12],[-169,174],[146,90]],[[2595,9395],[118,34],[569,-396],[-136,-28],[16,-256],[-326,194],[146,114],[-176,166],[-293,34],[82,138]],[[1653,9294],[-151,27],[27,139],[262,-47],[-138,-119]],[[6598,9255],[-169,74],[116,177],[348,107],[-354,-263],[59,-95]],[[2370,9622],[353,-153],[-291,23],[-62,130]],[[0,8924],[9982,-115],[-252,-178],[-188,-1],[-40,-289],[-148,-221],[-37,251],[228,332],[-193,17],[-151,-153],[-252,15],[-196,-248],[172,-94],[-35,-268],[-144,-291],[-72,-7],[-132,-202],[43,-269],[-72,-40],[-9,193],[-53,126],[-89,-60],[16,118],[-114,-127],[99,-120],[-54,-100],[82,-293],[-96,-304],[-77,-102],[-141,-79],[-63,18],[-81,-153],[91,-218],[9,-208],[-113,-176],[-2,76],[-138,200],[-27,-198],[36,-146],[81,-148],[5,-209],[-59,88],[-52,264],[-38,58],[17,178],[-45,316],[-82,-51],[3,125],[-80,262],[-124,-73],[-185,-322],[-12,-319],[-65,-138],[-111,462],[-25,309],[-60,-27],[-114,262],[-135,-20],[-189,80],[-89,80],[-39,131],[-59,-9],[106,-343],[128,52],[95,-151],[-56,-187],[-70,-105],[-183,-186],[-145,-79],[-23,238],[-97,261],[-2,74],[-110,315],[-28,-110],[72,-227],[22,-207],[49,-155],[113,-203],[22,-112],[194,91],[-15,-163],[-111,-365],[-175,-313],[-41,-224],[47,-247],[8,-227],[-37,-116],[-129,-177],[7,-270],[-57,-51],[-22,-195],[-132,-258],[-218,-92],[-122,445],[-26,287],[-69,233],[51,347],[-48,403],[-86,226],[28,241],[-36,98],[-73,-29],[-43,116],[-175,-90],[-154,-22],[-137,169],[-116,282],[-28,148],[32,81],[-14,331],[70,251],[136,212],[25,191],[76,145],[104,-34],[101,82],[224,43],[44,-233],[222,-175],[49,141],[224,-106],[148,20],[53,265],[-237,48],[-41,162],[86,101],[164,47],[89,-63],[86,98],[-133,150],[68,116],[-154,-81],[-78,42],[-86,-232],[32,-86],[-167,-34],[34,-130],[-66,-79],[-59,281],[-200,211],[78,-199],[90,-91],[-63,-136],[-19,119],[-182,248],[-160,-74],[-105,-313],[-131,-98],[-98,53],[-13,355],[208,23],[19,149],[-94,154],[83,-3],[289,310],[148,-15],[198,82],[58,231],[-64,197],[121,144],[-89,35],[-141,-252],[46,-73],[-80,-229],[-82,-43],[-72,237],[-130,-51],[-19,195],[154,145],[240,307],[250,79],[337,-188],[-53,-111],[-124,44],[28,-135],[317,129],[394,184],[221,-102],[-50,170],[360,74],[209,161],[663,92],[-47,-146],[534,-66],[75,-129],[255,118],[569,-196],[264,38],[-9734,-65]],[[6364,7560],[2,-213],[129,-36],[-26,225],[51,5],[-123,210],[76,37],[-52,104],[-125,-141],[68,-191]],[[5506,9772],[-31,-167],[-185,164],[216,3]],[[3097,9968],[183,-43],[-518,-356],[-248,17],[122,165],[-180,147],[641,70]],[[4247,9992],[-134,-76],[547,-53],[-208,-146],[9,-256],[-116,-57],[34,-183],[-150,-96],[-335,-173],[-99,-309],[-136,44],[-158,364],[-21,311],[-108,169],[-275,31],[-130,137],[292,192],[988,101]]],transform:{scale:[.036003600360036005,.0173662496249625],translate:[-180,-90]}};class e0{constructor(){var t,n;this.current=[0,0],this.$pointer=document.querySelector(".globe__pointer");let e=("string"==typeof(t=e2.objects.land)&&(t=e2.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return e1(e2,t)})}:e1(e2,t));this.projection=(function(t){var n,e,r,i,o,a,s,u,l,c,h=150,f=480,p=250,d=0,g=0,y=0,v=0,m=0,_=0,w=null,b=td,x=null,S=tb,E=.5;function k(t){return u(t[0]*O,t[1]*O)}function P(t){return(t=u.invert(t[0],t[1]))&&[t[0]*D,t[1]*D]}function C(){var t,r,i,o=tV(h,0,0,_).apply(null,n(d,g)),l=(_?tV:function(t,n,e){function r(r,i){return[n+t*r,e-t*i]}return r.invert=function(r,i){return[(r-n)/t,(e-i)/t]},r})(h,f-o[0],p-o[1],_);return t=y,r=v,i=m,e=(t%=$)?r||i?tg(tm(t),t_(r,i)):tm(t):r||i?t_(r,i):ty,s=tg(n,l),u=tg(e,s),a=tI(s,E),M()}function M(){return l=c=null,k}return k.stream=function(t){var n;return l&&c===t?l:l=tR((n=e,tx({point:function(t,e){var r=n(t,e);return this.stream.point(r[0],r[1])}}))(b(a(S(c=t)))))},k.preclip=function(t){return arguments.length?(b=t,w=void 0,M()):b},k.postclip=function(t){return arguments.length?(S=t,x=r=i=o=null,M()):S},k.clipAngle=function(t){return arguments.length?(b=+t?function(t){var n=I(t),e=6*O,r=n>0,i=T(n)>1e-6;function o(t,e){return I(t)*I(e)>n}function a(t,e,r){var i=Z(t),o=Z(e),a=[1,0,0],s=tn(i,o),u=tt(s,s),l=s[0],c=u-l*l;if(!c)return!r&&t;var h=tn(a,s),f=tr(a,n*u/c);te(f,tr(s,-n*l/c));var p=tt(f,h),d=tt(h,h),g=p*p-d*(tt(f,f)-1);if(!(g<0)){var y=j(g),v=tr(h,(-p-y)/d);if(te(v,f),v=Q(v),!r)return v;var m,_=t[0],w=e[0],b=t[1],x=e[1];w<_&&(m=_,_=w,w=m);var S=w-_,E=1e-6>T(S-N);if(!E&&x<b&&(m=b,b=x,x=m),E||S<1e-6?E?b+x>0^v[1]<(1e-6>T(v[0]-_)?b:x):b<=v[1]&&v[1]<=x:S>N^(_<=v[0]&&v[0]<=w)){var k=tr(h,(-p+y)/d);return te(k,f),[v,Q(k)]}}}function s(n,e){var i=r?t:N-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return th(o,function(t){var n,e,u,l,c;return{lineStart:function(){l=u=!1,c=1},point:function(h,f){var p,d,g=[h,f],y=o(h,f),v=r?y?0:s(h,f):y?s(h+(h<0?N:-N),f):0;!n&&(l=u=y)&&t.lineStart(),y!==u&&(!(d=a(n,g))||F(n,d)||F(g,d))&&(g[0]+=1e-6,g[1]+=1e-6,y=o(g[0],g[1])),y!==u?(c=0,y?(t.lineStart(),d=a(g,n),t.point(d[0],d[1])):(d=a(n,g),t.point(d[0],d[1]),t.lineEnd()),n=d):i&&n&&r^y&&!(v&e)&&(p=a(g,n,!0))&&(c=0,r?(t.lineStart(),t.point(p[0][0],p[0][1]),t.point(p[1][0],p[1][1]),t.lineEnd()):(t.point(p[1][0],p[1][1]),t.lineEnd(),t.lineStart(),t.point(p[0][0],p[0][1]))),!y||n&&F(n,g)||t.point(g[0],g[1]),n=g,u=y,e=v},lineEnd:function(){u&&t.lineEnd(),n=null},clean:function(){return c|(l&&u)<<1}}},function(n,r,i,o){!function(t,n,e,r,i,o){if(e){var a=I(n),s=R(n),u=r*e;null==i?(i=n+r*$,o=n-u/2):(i=tw(a,i),o=tw(a,o),(r>0?i<o:i>o)&&(i+=r*$));for(var l,c=i;r>0?c>o:c<o;c-=u)l=Q([a,-s*I(c),-s*R(c)]),t.point(l[0],l[1])}}(o,t,e,i,n,r)},r?[0,-t]:[-N,t-N])}(w=t*O):(w=null,td),M()):w*D},k.clipExtent=function(t){return arguments.length?(S=null==t?(x=r=i=o=null,tb):function(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,s,l){var c=0,h=0;if(null==i||(c=a(i,s))!==(h=a(o,s))||0>u(i,o)^s>0)do l.point(0===c||3===c?t:e,c>1?r:n);while((c=(c+s+4)%4)!==h)else l.point(o[0],o[1])}function a(r,i){return 1e-6>T(r[0]-t)?i>0?0:3:1e-6>T(r[0]-e)?i>0?2:1:1e-6>T(r[1]-n)?i>0?1:0:i>0?3:2}function s(t,n){return u(t.x,n.x)}function u(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var u,l,c,h,f,p,d,g,y,v,m,_=a,w=B(),b={point:x,lineStart:function(){b.point=S,l&&l.push(c=[]),v=!0,y=!1,d=g=NaN},lineEnd:function(){u&&(S(h,f),p&&y&&w.rejoin(),u.push(w.result())),b.point=x,y&&_.lineEnd()},polygonStart:function(){_=w,u=[],l=[],m=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=l.length;e<i;++e)for(var o,a,s=l[e],u=1,c=s.length,h=s[0],f=h[0],p=h[1];u<c;++u)o=f,a=p,f=(h=s[u])[0],p=h[1],a<=r?p>r&&(f-o)*(r-a)>(p-a)*(t-o)&&++n:p<=r&&(f-o)*(r-a)<(p-a)*(t-o)&&--n;return n}(),e=m&&n,i=(u=tc(u)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&W(u,s,n,o,a),a.polygonEnd()),_=a,u=l=c=null}};function x(t,n){i(t,n)&&_.point(t,n)}function S(o,a){var s=i(o,a);if(l&&c.push([o,a]),v)h=o,f=a,p=s,v=!1,s&&(_.lineStart(),_.point(o,a));else if(s&&y)_.point(o,a);else{var u=[d=Math.max(-1e9,Math.min(1e9,d)),g=Math.max(-1e9,Math.min(1e9,g))],w=[o=Math.max(-1e9,Math.min(1e9,o)),a=Math.max(-1e9,Math.min(1e9,a))];(function(t,n,e,r,i,o){var a,s=t[0],u=t[1],l=n[0],c=n[1],h=0,f=1,p=l-s,d=c-u;if(a=e-s,p||!(a>0)){if(a/=p,p<0){if(a<h)return;a<f&&(f=a)}else if(p>0){if(a>f)return;a>h&&(h=a)}if(a=i-s,p||!(a<0)){if(a/=p,p<0){if(a>f)return;a>h&&(h=a)}else if(p>0){if(a<h)return;a<f&&(f=a)}if(a=r-u,d||!(a>0)){if(a/=d,d<0){if(a<h)return;a<f&&(f=a)}else if(d>0){if(a>f)return;a>h&&(h=a)}if(a=o-u,d||!(a<0)){if(a/=d,d<0){if(a>f)return;a>h&&(h=a)}else if(d>0){if(a<h)return;a<f&&(f=a)}return h>0&&(t[0]=s+h*p,t[1]=u+h*d),f<1&&(n[0]=s+f*p,n[1]=u+f*d),!0}}}}})(u,w,t,n,e,r)?(y||(_.lineStart(),_.point(u[0],u[1])),_.point(w[0],w[1]),s||_.lineEnd(),m=!1):s&&(_.lineStart(),_.point(o,a),m=!1)}d=o,g=a,y=s}return b}}(x=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),M()):null==x?null:[[x,r],[i,o]]},k.scale=function(t){return arguments.length?(h=+t,C()):h},k.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],C()):[f,p]},k.center=function(t){return arguments.length?(d=t[0]%360*O,g=t[1]%360*O,C()):[d*D,g*D]},k.rotate=function(t){return arguments.length?(y=t[0]%360*O,v=t[1]%360*O,m=t.length>2?t[2]%360*O:0,C()):[y*D,v*D,m*D]},k.angle=function(t){return arguments.length?(_=t%360*O,C()):_*D},k.precision=function(t){return arguments.length?(a=tI(s,E=t*t),M()):j(E)},k.fitExtent=function(t,n){return tq(k,t,n)},k.fitSize=function(t,n){return tq(k,[[0,0],t],n)},k.fitWidth=function(t,n){return tT(k,function(n){var e=+t,r=e/(n[1][0]-n[0][0]),i=(e-r*(n[1][0]+n[0][0]))/2,o=-r*n[0][1];k.scale(150*r).translate([i,o])},n)},k.fitHeight=function(t,n){return tT(k,function(n){var e=+t,r=e/(n[1][1]-n[0][1]),i=-r*n[0][0],o=(e-r*(n[1][1]+n[0][1]))/2;k.scale(150*r).translate([i,o])},n)},function(){return n=t.apply(this,arguments),k.invert=n.invert&&P,C()}})(function(){return tj})().scale(249.5).clipAngle(90.000001).scale(40).translate([40,40]).clipAngle(90).rotate([-this.current[0],-this.current[1]]),this.path=(function(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),tN(t,e(r))),r.result()}return o.area=function(t){return tN(t,e(tJ)),tJ.result()},o.measure=function(t){return tN(t,e(nb)),nb.result()},o.bounds=function(t){return tN(t,e(tO)),tO.result()},o.centroid=function(t){return tN(t,e(ni)),ni.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,tb):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new nE):new nd(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)})().projection(this.projection);let r=("string"==typeof(n=".globe")?new n7([[document.querySelector(n)]],[document.documentElement]):new n7([[n]],n8)).append("svg").attr("width",80).attr("height",80);r.append("path").datum(e).attr("class","land"),this.paths=r.selectAll("path")}updateWith(t){let{lat:n,lng:e}=t.location,r=[...this.current],i=[e,n],o=r[0]-i[0],a=function(t,n,e,r){let i=e3(e-t),o=e3(r-n),a=Math.sin(i/2)*Math.sin(i/2)+Math.cos(e3(t))*Math.cos(e3(e))*Math.sin(o/2)*Math.sin(o/2);return Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}(r[1],r[0],i[1],i[0]);this.current=i,this.$pointer.classList.add("globe__pointer--hidden"),o>180?r[0]-=360:o<-180&&(r[0]+=360),eJ().duration(Math.max(1500*a,500)).tween("rotation",()=>t=>{let n=r[1],e=r[0],o=i[1],a=i[0];this.projection.rotate([-(e+(a-e)*t),-(n+(o-n)*t)]),this.paths.attr("d",this.path)}).on("end",()=>{this.$pointer.classList.remove("globe__pointer--hidden")})}}function e3(t){return t*Math.PI/180}class e4{constructor(t){this.currentView=1,this.globe=new e0,this.$view={1:document.querySelector(".photo-view--1"),2:document.querySelector(".photo-view--2")},this.$attribution=document.querySelector(".attribution"),this.$location=document.querySelector(".location"),this.$locationRegion=document.querySelector(".location__region"),this.$locationCountry=document.querySelector(".location__country"),this.$view[1].addEventListener("click",t.onViewClick),this.$view[2].addEventListener("click",t.onViewClick)}updateWith(t){let n=t.id===(this.photo&&this.photo.id),e=this.currentView%2+1,r=t.dataUri||t.thumbnailDataUri;this.activateView(n?this.currentView:e,r),this.$attribution.textContent=t.attribution,this.$attribution.setAttribute("title",t.attribution),this.$location.setAttribute("href",t.locationLink),this.$location.setAttribute("title",t.locationLinkText),this.$locationRegion.textContent=t.region,this.$locationCountry.textContent=t.country,this.globe.updateWith(t),this.photo=t}activateView(t,n){this.$view[t].setAttribute("src",n),this.$view[1===t?2:1].classList.remove("photo-view--active"),this.$view[t].classList.add("photo-view--active"),this.currentView=t}}const e5="analytis",e6="chrome"===v;function e9(t,n){e6&&_.fireEvent(t,n)}class e8{constructor(){if(this.didTrackPageView=!1,!e6)return;let t=document.querySelectorAll("a");this.trackClick=this.trackClick.bind(this),f(e5).then(t=>{if(!t)return;let n=null;t&&(n=JSON.parse(t)),n&&(e9("analytics",n),d(e5))}),t.forEach(t=>{t.addEventListener("click",this.trackClick,!0)}),window.onerror=(t,n,e,r,i)=>{_.fireErrorEvent(i??{},{exDescription:`${n}#${e}: ${i}`})}}updateWith(t){e6&&(this.photo=t,this.didTrackPageView||(_.firePageViewEvent(t.id,`/${t.id}`),this.didTrackPageView=!0))}trackClick(t){let n=t.currentTarget,e=n.querySelector("span")?.innerHTML,r=e?.split(" ").join("_")?.toLowerCase()??"",i=n.getAttribute("data-type");"menu"===i?e9(r,{eventCategory:"Menu",eventAction:e,eventLabel:this.photo?.id}):"share"===i?e9(r,{eventCategory:"Share",eventAction:e,eventLabel:this.photo?.id}):this.photo&&e9(n.dataset.action,{eventCategory:"type",eventAction:n.dataset.action,eventLabel:this.photo.id})}}class e7{constructor(t){this.didTrackScrolling=!1,this.onPhotoSelect=t.onPhotoSelect,this.$history=document.querySelector(".history"),this.$button=document.querySelector(".history-button"),this.handleButtonClick=this.handleButtonClick.bind(this),this.handleMouseWheelChange=this.handleMouseWheelChange.bind(this),this.handleEntryClick=this.handleEntryClick.bind(this),this.handleEntryKeypress=this.handleEntryKeypress.bind(this),this.$button.addEventListener("click",this.handleButtonClick),window.addEventListener("wheel",this.handleMouseWheelChange,{passive:!0})}handleMouseWheelChange(t){if(!(Math.abs(t.deltaX)>Math.abs(t.deltaY))&&0!==t.deltaY){if(t.deltaY<=0){this.hide();return}this.show(),this.didTrackScrolling||(this.didTrackScrolling=!0,e9("open_via_scroll",{eventCategory:"History",eventAction:"Open via Scroll",eventLabel:this.photo&&this.photo.id}))}}handleButtonClick(){document.body.classList.contains("history-is-open")?this.hide():this.show(),e9("open_via_click",{eventCategory:"History",eventAction:"Open via Click",eventLabel:this.photo&&this.photo.id})}handleEntryClick(t){t.stopPropagation();let n=t.srcElement.dataset.id;n&&(e9("select",{eventCategory:"History",eventAction:"Select",eventLabel:n}),this.onPhotoSelect(n))}handleEntryKeypress(t){"Enter"===t.key&&this.handleEntryClick(t)}updateWith(t,n){this.photo=n,this.render(t)}show(){document.body.classList.add("history-is-open")}hide(){document.body.classList.remove("history-is-open")}render(t){if(this.$history.childElementCount>0)return;let n="";for(let e=0;e<10;e++)t[e]?n+=this.renderEntry(t[e]):n+=this.renderPlaceholder();this.$history.innerHTML=n,this.$history.querySelectorAll(".history__entry").forEach(t=>{t.addEventListener("click",this.handleEntryClick),t.addEventListener("keypress",this.handleEntryKeypress)})}renderPlaceholder(){return`
      <div class="history__placeholder">
        <svg xmlns="http://www.w3.org/2000/svg" width="33" height="33" viewBox="0 0 24 24"><path d="M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"/></svg>
      </div>
    `}renderEntry(t){let n=`background-image: url(${t.thumbnailDataUri})`,e=t.region?`${t.region}, ${t.country}`:t.country;return`
      <div class="history__entry" data-id="${t.id}" style="${n}" tabIndex="4" aria-label="${e}">
        <div class="history__entry__title">${e}</div>
      </div>
    `}}class rt{constructor(){this.$container=document.querySelector(".menu"),this.$toggleButton=this.$container.querySelector(".menu__toggle"),this.$links=this.$container.querySelectorAll(".menu__item"),this.handleOpenClick=this.handleOpenClick.bind(this),this.handleCloseClick=this.handleCloseClick.bind(this),this.handleLinkClick=this.handleLinkClick.bind(this),this.$toggleButton.addEventListener("click",this.handleOpenClick),document.body.addEventListener("click",this.handleCloseClick),this.$links.forEach(t=>{t.addEventListener("click",this.handleLinkClick)})}handleOpenClick(t){t.stopPropagation(),this.$container.classList.add("menu--open")}handleCloseClick(t){this.$container.classList.remove("menu--open")}handleLinkClick(t){let n=t.currentTarget;n&&n.href&&window.chrome&&window.chrome.tabs&&(t.preventDefault(),"_blank"===n.target?this.openNewTab(n.href):this.updateTabLocation(n.href))}openNewTab(t){window.chrome.tabs.create({url:t})}updateTabLocation(t){window.chrome.tabs.update({url:t})}}new class{constructor(){this.uiFadeOutTimer=0,this.handlePhotosChange=this.handlePhotosChange.bind(this),this.handlePhotoViewClick=this.handlePhotoViewClick.bind(this),this.handleHistoryPhotoSelect=this.handleHistoryPhotoSelect.bind(this),this.handleOnlineStateChange=this.handleOnlineStateChange.bind(this),this.handleMousemove=this.handleMousemove.bind(this),this.photos=new M({onChange:this.handlePhotosChange}),this.photoView=new e4({onViewClick:this.handlePhotoViewClick}),this.history=new e7({onPhotoSelect:this.handleHistoryPhotoSelect}),this.menu=new rt,this.analytics=new e8,this.photos.load(),this.handleOnlineStateChange(),window.addEventListener("online",this.handleOnlineStateChange),window.addEventListener("offline",this.handleOnlineStateChange),document.body.addEventListener("mousemove",this.handleMousemove),document.querySelectorAll("a, .icon-button").forEach(t=>t.addEventListener("click",()=>{t.blur()})),v&&document.body.classList.add(`browser--${v}`)}handlePhotosChange(t,n){this.photoView.updateWith(t),this.history.updateWith(n,t),this.analytics.updateWith(t)}handleHistoryPhotoSelect(t){this.photos.select(t)}handlePhotoViewClick(){this.history.hide()}handleOnlineStateChange(){document.body.classList.toggle("is-offline",!navigator.onLine)}handleMousemove(){document.body.classList.add("ui-active"),clearTimeout(this.uiFadeOutTimer),this.uiFadeOutTimer=setTimeout(()=>{document.body.classList.remove("ui-active")},4e3)}};